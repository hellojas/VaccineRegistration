<!DOCTYPE html>
<html>
  <head>
    <base target="_top">
  </head>
  <body>
    <? 
      var clinics = getSheetDataAsDict('clinics');
      var url = getScriptUrl();
    ?>
    <a href='<?=url?>'>Home</a><br>
    <h1>Clinics</h1>
    <p>Last checked: <?= new Date().toLocaleString() ?></p>

      <?
      for (i in clinics) {
        clinic = clinics[i]
        ?>             
        <table><td>
          <input type="radio" name="clinicSelection" value="<?= clinic['ID']?>">
          </td>
          <td>
          <div><b><?= clinic['Date']?></b></div> 
          <div>Remaining Slots: 
          <?= clinic['DosesTotal']-clinic['Registered']  ?>
          </div>
          <div><?= clinic['Name']?></div>
          <div><a href="https://www.google.com/maps/search/?api=1&query=<?= clinic['Location']?>"><?= clinic['Location']?></a></div>
        </td>
      </table><br>

       <? } ?>
  </body>
</html>
